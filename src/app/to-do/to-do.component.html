<!-- Load Facebook SDK for JavaScript -->
<!--div id="fb-root"></div>
<script>
(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.1&appId=1940493829534171&autoLogAppEvents=1';
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script-->
<!-- End Load Facebook SDK for JavaScript -->
<!-- Load Twitter SDK for JavaScript -->
<!--script>
window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
    t._e = [];
    t.ready = function(f) {
        t._e.push(f);
    };
    return t;
}(document, "script", "twitter-wjs"));
</script-->
<!-- END Load Twitter SDK for JavaScript -->
<!--script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script-->

<div class="container">
    <app-header [title]="'Remember!'"></app-header>
    <mat-tab-group (selectedIndexChange)="selectedIndexChanged($event)" [selectedIndex]="mode - 1">
        <mat-tab [label]="label" *ngFor="let label of ['Today', 'Tomorrow', 'Upcoming']">
            <div class="body">
                <ng-container *ngIf="isSweepsLoading$ | async">
                    <div class="blocker"></div>
                    <i class="fa fa-spinner fa-spin centered"></i>
                </ng-container>
                <mat-list>
                    <mat-list-item *ngFor="let sweep of sweeps"
                                   class="clickable" [ngClass]="{'deleted': sweep.deleted_yn}"
                                   (click)="openUrl(sweep.sweep_url, sweep.user_sweep_id)">
                        <mat-icon matListIcon fontSet="fa" fontIcon="fa-gift"></mat-icon>
                        <div mat-line class="list-item-first">
                            <span class="sweep-name"> {{sweep.sweep_name}}</span>
                        </div>
                        <div mat-line class="list-item-second">
                            <ng-container *ngIf="sweep.is_frequency">
                                {{ nextVisit(sweep) }}
                            </ng-container>
                        </div>
<!--div>
    <ng-container *ngIf="sweep.is_referral">
        <Your share button code>
        <div class="fb-share-button" data-href={{sweep.sweep_url}} data-layout="button_count" data-size="large" data-mobile-iframe="true">
            <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u={{sweep.sweep_url}}%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">
            Share
            </a>
        </div>
<a class="twitter-share-button" 
    href="https://twitter.com/share"
    data-url="https://www.TWEETTHIS.com"
    data-size="large"
    data-via="SweepImp"
    data-show-count="false">Tweet
</a>
    </ng-container>
</div-->
<!--script type="IN/Share" data-url="bla"></script-->
                        <mat-icon class="edit-sweep" (click)="editSweep(sweep, $event)">edit</mat-icon>
<!-- placeholders -->
<div mat-line class="list-item-second">
    <ng-container *ngIf="sweep.is_referral">
        <table>
            <tr>
                <ng-container *ngFor="let socialColumn of socialColumns">
                <!--ng-container cdkColumnDef="FB"-->
                    <!--mat-cell>Facebook</mat-cell-->
                    <!--td id="{{sweep.user_sweep_id}}+{{socialColumn.columnDef}}">{{socialColumn.cell(sweep, sweep.user_sweep_id.toString()+'+'+socialColumn.columnDef)}}</td-->
                    <td id="{{sweep.user_sweep_id}}+{{socialColumn.columnDef}}">{{socialColumn.cell()}}</td>
                </ng-container>
            </tr>
        </table>
    </ng-container>
</div>
                    </mat-list-item>
                </mat-list>
                <div class="whole-screen" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0">
                    <div class="no-sweeps" *ngIf="mode == 1">
                        <h2>Great job!</h2>
                        You have completed all your shares and entries for today!
                        <p>
                            <span>Now go ahead and sign up for more sweeps, I'll manage them for you.</span>
                            <span style="font-size: 0.75em; font-weight: bold;">(Don't forget to add them here using the '+' button below!)</span>
                        </p>
                    </div>
                    <div class="no-sweeps" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0 && mode == 2">
                        No shares or entries due for tomorrow. Do you have any due for today?
                        <p>
                        Sign up to more sweeps and then let me manage them for you using the '+' button below!
                        </p>
                    </div>
                    <div class="no-sweeps" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0 && mode == 3">
                        No upcoming shares or entries. Do you have any due for today?
                        <p>
                        Sign up to more sweeps and then let me manage them for you using the '+' button below!
                        </p>
                    </div>
                </div>
                <button mat-fab (click)="addSweep()">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>
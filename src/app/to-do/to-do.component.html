<div class="container">
    <app-header [title]="'Sweep Actions'" [mode]="mode"></app-header>
    <mat-tab-group (selectedIndexChange)="selectedIndexChanged($event)" [selectedIndex]="mode - 1">
        <mat-tab [label]="label" *ngFor="let label of ['Today', 'Tomorrow', 'Upcoming', 'Ended']">
            <div class="body">
                <ng-container *ngIf="isSweepsLoading$ | async">
                    <div class="blocker"></div>
                    <i class="fa fa-spinner fa-spin centered"></i>
                </ng-container>
                <app-with-sm-actions-list *ngIf="mode != 4" [user]="user" [mode]="mode" [sweeps]="sweeps"></app-with-sm-actions-list>
                <app-ended-list *ngIf="mode == 4" [sweeps]="sweeps"></app-ended-list>
                <div class="whole-screen" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0">
                    <div class="no-sweeps" *ngIf="mode == 1">
                        <h2>Great Job!</h2>
                        You have completed all your shares and entries for today!
                        <p>
                            <span>Now go ahead and sign up for more sweeps, I'll manage them for you.</span><br>
                            <span style="font-size: 0.75em; font-weight: bold;">(just add them here using the '+' button below!)</span>
                        </p>
                    </div>
                    <div class="no-sweeps" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0 && mode == 2">
                        No shares or entries due for tomorrow. Do you have any due for today?
                        <p>
                            Sign up to more sweeps and then let me manage them for you using the '+' button below!
                        </p>
                    </div>
                    <div class="no-sweeps" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0 && mode == 3">
                        No upcoming shares or entries. Do you have any due for today?
                        <p>
                            Sign up to more sweeps and then let me manage them for you using the '+' button below!
                        </p>
                    </div>
                    <div class="no-sweeps" *ngIf="!(isSweepsLoading$ | async) && sweeps.length == 0 && mode == 4">
                        No sweeps have ended yet. Add more using the '+' button below!
                    </div>
                </div>
                <button mat-fab (click)="addSweep()">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>